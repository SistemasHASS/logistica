<!-- BOT√ìN ABRIR MODAL -->
<button class="btn btn-primary mb-3" data-bs-toggle="modal" data-bs-target="#modalItem">
  Nuevo Item
</button>

<table class="table table-sm table-bordered">
  <thead>
    <tr>
      <th>C√≥digo</th>
      <th>Descripci√≥n Local</th>
      <th>Descripci√≥n Completa</th>
      <th>Unidad Medida</th>
      <th>Unidad Compra</th>
      <th>Unidad Embalaje</th>
      <th>Compa√±√≠a</th>
      <th>Estado</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let c of listaItems">
      <td>{{ c.codigo }}</td>
      <td>{{ c.descripcionLocal }}</td>
      <td>{{ c.descripcionCompleta }}</td>
      <td>{{ c.unidadMedida }}</td>
      <td>{{ c.unidadCompra }}</td>
      <td>{{ c.unidadEmbalaje }}</td>
      <td>{{ c.compania }}</td>
      <td>{{ c.estado === 'A' ? 'Activo' : 'Inactivo' }}</td>
      <td>
        <button class="btn btn-warning btn-sm" (click)="editar(c)">Editar</button>
      </td>
    </tr>
  </tbody>
</table>

<!-- MODAL -->
<div class="modal fade" id="modalItem" tabindex="-1">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">

      <!-- HEADER -->
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title color-text">Agregar Item</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <!-- BODY -->
      <div class="modal-body">

        <!-- TABS -->
        <ul class="nav nav-tabs" id="itemTabs" role="tablist">
          <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#datosGenerales">üü¶ Datos Generales</a></li>
          <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#infoAdicional">üìÑ Informaci√≥n Adicional</a></li>
          <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#caracteristicas">‚öô Caracter√≠sticas Especiales</a></li>
          <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#numeracion">üî¢ Numeraci√≥n</a></li>
        </ul>

        <!-- TAB CONTENT -->
        <div class="tab-content mt-3">

          <!-- ‚úÖ TAB 1: DATOS GENERALES -->
          <div class="tab-pane fade show active" id="datosGenerales">
            <div class="row">
              <div class="col-4">
                <label>C√≥digo del Item</label>
                <input type="text" class="form-control" [(ngModel)]="item.codigo">
              </div>

              <div class="col-8">
                <label>Descripci√≥n Local</label>
                <input type="text" class="form-control" [(ngModel)]="item.descripcionLocal">
              </div>

              <div class="col-12 mt-2">
                <label>Descripci√≥n Completa</label>
                <textarea class="form-control" [(ngModel)]="item.descripcionCompleta"></textarea>
              </div>
            </div>

            <hr>

            <div class="row mt-2">
              <div class="col-4">
                <label>Unidad Medida</label>
                <select class="form-select" [(ngModel)]="item.unidadMedida">
                  <option>UNIDAD</option>
                  <option>KG</option>
                  <option>MTS</option>
                </select>
              </div>

              <div class="col-4">
                <label>Unidad Compra</label>
                <select class="form-select" [(ngModel)]="item.unidadCompra">
                  <option>UNIDAD</option>
                  <option>KG</option>
                  <option>MTS</option>
                </select>
              </div>

              <div class="col-4">
                <label>Unidad Embalaje</label>
                <select class="form-select" [(ngModel)]="item.unidadEmbalaje">
                  <option>UNIDAD</option>
                  <option>CAJA</option>
                </select>
              </div>
            </div>

            <hr>

            <div class="row mt-2">
              <div class="col-6">
                <label>Compa√±√≠a</label>
                <input type="text" class="form-control" maxlength="2" [(ngModel)]="item.compania">
              </div>

              <div class="col-6">
                <label>Imagen del Item</label>
                <input type="file" class="form-control">
              </div>
            </div>

            <div class="mt-3">
              <label class="me-3"><input type="radio" [(ngModel)]="item.estado" value="Activo"> Activo</label>
              <label><input type="radio" [(ngModel)]="item.estado" value="Inactivo"> Inactivo</label>
            </div>
          </div>

          <!-- ‚úÖ TAB 2: INFO ADICIONAL -->
          <div class="tab-pane fade" id="infoAdicional">
            <p>Campos adicionales aqu√≠...</p>
          </div>

          <!-- ‚úÖ TAB 3: CARACTER√çSTICAS ESPECIALES -->
          <div class="tab-pane fade" id="caracteristicas">
            <div class="row">
              <div class="col-4">
                <input type="checkbox"> Se maneja por Lotes <br>
                <input type="checkbox"> Tiene n¬∞ de Serie por Item
              </div>
              <div class="col-4">
                <input type="checkbox"> Item Relacionado <br>
                <input type="checkbox"> Aplica Norma ISO
              </div>
              <div class="col-4">
                <input type="checkbox"> Convertible en otro item <br>
                <input type="checkbox"> Disponible para venta
              </div>
            </div>
          </div>

          <!-- ‚úÖ TAB 4: NUMERACI√ìN -->
          <div class="tab-pane fade" id="numeracion">
            <label>Numeraci√≥n de Item:</label>
            <input type="text" class="form-control" [(ngModel)]="item.numeracion">
          </div>

        </div>
      </div>

      <!-- FOOTER -->
      <div class="modal-footer">
        <button class="btn btn-success" data-bs-dismiss="modal" (click)="guardar()">Aceptar</button>
        <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
      </div>

    </div>
  </div>
</div>
