<div class="container mt-4 custom-tabs">

    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link active" data-bs-toggle="tab" href="#items" (click)="currentTab = 'ITEM'">ITEMS</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#commodity" (click)="currentTab = 'COMMODITY'">SERVICIOS</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#activofijo" (click)="currentTab = 'ACTIVOFIJO'">ACTIVO
                FIJO</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" data-bs-toggle="tab" href="#activofijomenor"
                (click)="currentTab = 'ACTIVOFIJOMENOR'">ACTIVO
                MENOR</a>
        </li>
    </ul>

    <!-- ✅ CONTENEDOR OBLIGATORIO PARA TABS -->
    <div class="tab-content mt-3">

        <!-- TAB ITEMS -->
        <div class="tab-pane fade show active" id="items">
            <h5>Requerimientos Item (Jefe aprueba)</h5>
            <div class="text-center mt-4">
                <!-- <div class="mb-2">
                    <input type="checkbox" [(ngModel)]="allCheckedItems" (change)="seleccionarTodos('ITEM')">
                    Seleccionar todo -->
                <!-- <button class="btn btn-success btn-sm ms-3" (click)="aprobarMasivo('ITEM')">Aprobar
                        Seleccionados</button> -->
                <!-- </div> -->

                <div class="table-responsive" style="max-height: 60vh; overflow: auto;">
                    <p-table #dt [value]="requerimientosItems" [paginator]="true" [rows]="20"
                        [totalRecords]="requerimientosItems.length" [loading]="loading"
                        responsiveLayout="scroll" [pageLinks]="5" [showCurrentPageReport]="true"
                        currentPageReportTemplate="<{first} - {last} de {totalRecords}>"
                        styleClass="p-datatable-sm p-datatable-striped">

                        <ng-template pTemplate="header">
                            <tr>
                                <th style="width:50px">
                                    <input type="checkbox" [(ngModel)]="allCheckedItems"
                                        (change)="seleccionarTodos('ITEM')">
                                </th>
                                <th style="width:50px">#</th>
                                <th style="min-width:20px" pSortableColumn="item">Fecha</th>
                                <th style="min-width:100px" pSortableColumn="item">Tipo</th>
                                <th style="min-width:120px" pSortableColumn="descripcionLocal">Almacen</th>
                                <th style="min-width:120px" pSortableColumn="descripcionLocal">Usuario</th>
                                <th style="min-width:100px" pSortableColumn="descripcionLocal">Estado</th>
                                <th style="min-width:30px">Acciones</th>
                            </tr>
                        </ng-template>

                        <ng-template pTemplate="body" let-c let-i="rowIndex">
                            <tr>
                                <td>
                                    <input type="checkbox" [(ngModel)]="c.checked" (change)="simpleSelected('ITEM')">
                                </td>
                                <td>{{ i + 1 }}</td>
                                <td>{{ c.fecha | date : "dd/MM/yyyy HH:mm:ss" }}</td>
                                <td>{{ c.tipo }}</td>
                                <td>{{ c.idalmacen }}</td>
                                <td>{{ c.nrodocumento }}</td>
                                <td>{{ c.estados }}</td>
                                <td>
                                    <!-- Botón Visualizar -->
                                    <button class="btn btn-info btn-sm me-1" (click)="visualizarDetalle(c, 'ITEM')"
                                        title="Ver detalle">
                                        <i class="icon-eye"></i>
                                    </button>
                                    <button class="btn btn-success btn-sm me-1"
                                        (click)="aprobar(c, 'ITEM')">Aprobar</button>
                                    <button class="btn btn-danger btn-sm"
                                        (click)="rechazar(c, 'ITEM')">Rechazar</button>
                                </td>
                            </tr>
                        </ng-template>

                        <ng-template pTemplate="emptymessage">
                            <tr>
                                <td colspan="8" class="text-center">No hay registros</td>
                            </tr>
                        </ng-template>

                    </p-table>

                    <!-- <table class="table table-bordered">
                        <thead class="table-light">
                            <tr>
                                <th><input type="checkbox" [(ngModel)]="allCheckedItems"
                                        (change)="seleccionarTodos('ITEM')"></th>
                                <th>#</th>
                                <th>Fecha</th>
                                <th>Tipo</th>
                                <th>Almacén</th>
                                <th>Usuario</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let req of requerimientosItems; let i = index">
                                <td><input type="checkbox" [(ngModel)]="req.checked" (change)="simpleSelected('ITEM')">
                                </td>
                                <td>{{ i + 1 }}</td>
                                <td>{{ req.fecha | date : "dd/MM/yyyy HH:mm:ss" }}</td>
                                <td>{{ req.tipo }}</td>
                                <td>{{ req.idalmacen }}</td>
                                <td>{{ req.nrodocumento }}</td>
                                <td>{{ req.estados}}</td>
                                <td> -->
                                    <!-- Botón Visualizar -->
                                    <!-- <button class="btn btn-info btn-sm me-1" (click)="visualizarDetalle(req, 'ITEM')"
                                        title="Ver detalle">
                                        <i class="icon-eye"></i>
                                    </button>
                                    <button class="btn btn-success btn-sm me-1"
                                        (click)="aprobar(req, 'ITEM')">Aprobar</button>
                                    <button class="btn btn-danger btn-sm"
                                        (click)="rechazar(req, 'ITEM')">Rechazar</button>
                                </td>
                            </tr>
                        </tbody>
                    </table> -->

                    <div *ngIf="!requerimientosItems.length" class="text-center text-muted mt-2">
                        No hay requerimientos pendientes
                    </div>
                </div>

                <div class="text-center mt-2" *ngIf="currentTab === 'ITEM'">
                    <button class="btn btn-success" (click)="aprobarRequerimientos(currentTab)"
                        [disabled]="!dataSelectedItems.length">
                        ✅ Aprobar seleccionados
                    </button>
                </div>
            </div>
        </div>

        <!-- TAB COMMODITY -->
        <div class="tab-pane fade" id="commodity">
            <h5>Requerimientos Servicios (por monto)</h5>
            <div class="text-center mt-4">
                <!-- <div class="mb-2">
                    <input type="checkbox" [(ngModel)]="allCheckedCommodity" (change)="seleccionarTodos('COMMODITY')">
                    Seleccionar todo -->
                <!-- <button class="btn btn-success btn-sm ms-3" (click)="aprobarMasivo('ITEM')">Aprobar
                        Seleccionados</button> -->
                <!-- </div> -->

                <div class="table-responsive" style="max-height: 60vh; overflow: auto;">
                    <p-table #dt [value]="requerimientosCommodity" [paginator]="true" [rows]="20"
                        [totalRecords]="requerimientosCommodity.length" [loading]="loading"
                        responsiveLayout="scroll" [pageLinks]="5" [showCurrentPageReport]="true"
                        currentPageReportTemplate="<{first} - {last} de {totalRecords}>"
                        styleClass="p-datatable-sm p-datatable-striped">

                        <ng-template pTemplate="header">
                            <tr>
                                <th style="width:50px">
                                    <input type="checkbox" [(ngModel)]="allCheckedCommodity"
                                        (change)="seleccionarTodos('COMMODITY')">
                                </th>
                                <th style="width:50px">#</th>
                                <th style="min-width:20px" pSortableColumn="item">Fecha</th>
                                <th style="min-width:100px" pSortableColumn="item">Tipo</th>
                                <th style="min-width:120px" pSortableColumn="descripcionLocal">Almacen</th>
                                <th style="min-width:120px" pSortableColumn="descripcionLocal">Usuario</th>
                                <th style="min-width:100px" pSortableColumn="descripcionLocal">Estado</th>
                                <th style="min-width:30px">Acciones</th>
                            </tr>
                        </ng-template>

                        <ng-template pTemplate="body" let-c let-i="rowIndex">
                            <tr>
                                <td>
                                    <input type="checkbox" [(ngModel)]="c.checked" (change)="simpleSelected('COMMODITY')">
                                </td>
                                <td>{{ i + 1 }}</td>
                                <td>{{ c.fecha | date : "dd/MM/yyyy HH:mm:ss" }}</td>
                                <td>{{ c.tipo }}</td>
                                <td>{{ c.idalmacen }}</td>
                                <td>{{ c.nrodocumento }}</td>
                                <td>{{ c.estados }}</td>
                                <td>
                                    <!-- Botón Visualizar -->
                                    <button class="btn btn-info btn-sm me-1" (click)="visualizarDetalle(c, 'COMMODITY')"
                                        title="Ver detalle">
                                        <i class="icon-eye"></i>
                                    </button>
                                    <button class="btn btn-success btn-sm me-1"
                                        (click)="aprobar(c, 'COMMODITY')">Aprobar</button>
                                    <button class="btn btn-danger btn-sm"
                                        (click)="rechazar(c, 'COMMODITY')">Rechazar</button>
                                </td>
                            </tr>
                        </ng-template>

                        <ng-template pTemplate="emptymessage">
                            <tr>
                                <td colspan="8" class="text-center">No hay registros</td>
                            </tr>
                        </ng-template>

                    </p-table>

                    <!-- <table class="table table-bordered">
                        <thead class="table-light">
                            <tr>
                                <th><input type="checkbox" [(ngModel)]="allCheckedCommodity"
                                        (change)="seleccionarTodos('COMMODITY')"></th>
                                <th>#</th>
                                <th>Fecha</th>
                                <th>Tipo</th>
                                <th>Almacén Origen</th>
                                <th>Almacén Destino</th>
                                <th>Usuario</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let req of requerimientosCommodity; let i = index">
                                <td><input type="checkbox" [(ngModel)]="req.checked"
                                        (change)="simpleSelected('COMMODITY')"></td>
                                <td>{{ i + 1 }}</td>
                                <td>{{ req.fecha | date : "dd/MM/yyyy HH:mm:ss" }}</td>
                                <td>{{ req.tipo }}</td>
                                <td>{{ req.idalmacen }}</td>
                                <td>{{ req.idalmacen_destino || '-' }}</td>
                                <td>{{ req.nrodocumento }}</td>
                                <td>{{ req.estados}}</td>
                                <td> -->
                                    <!-- Botón Visualizar -->
                                    <!-- <button class="btn btn-info btn-sm me-1"
                                        (click)="visualizarDetalle(req, 'COMMODITY')" title="Ver detalle">
                                        <i class="icon-eye"></i>
                                    </button>
                                    <button class="btn btn-success btn-sm me-1"
                                        (click)="aprobar(req, 'COMMODITY')">Aprobar</button>
                                    <button class="btn btn-danger btn-sm"
                                        (click)="rechazar(req, 'COMMODITY')">Rechazar</button>
                                </td>
                            </tr>
                        </tbody>
                    </table> -->

                    <div *ngIf="!requerimientosCommodity.length" class="text-center text-muted mt-2">
                        No hay requerimientos pendientes
                    </div>
                </div>

                <div class="text-center mt-2" *ngIf="currentTab === 'COMMODITY'">
                    <button class="btn btn-success" (click)="aprobarRequerimientos(currentTab)"
                        [disabled]="!dataSelectedCommodity.length">
                        ✅ Aprobar seleccionados
                    </button>
                </div>
            </div>
        </div>

        <!-- TAB ACTIVO FIJO -->
        <div class="tab-pane fade" id="activofijo">
            <h5>Requerimientos activo fijo (por monto)</h5>
            <div class="text-center mt-4">
                <!-- <div class="mb-2">
                    <input type="checkbox" [(ngModel)]="allCheckedActivo" (change)="seleccionarTodos('ACTIVOFIJO')">
                    Seleccionar todo -->
                <!-- <button class="btn btn-success btn-sm ms-3" (click)="aprobarMasivo('ITEM')">Aprobar
                        Seleccionados</button> -->
                <!-- </div> -->

                <div class="table-responsive" style="max-height: 60vh; overflow: auto;">
                    <p-table #dt [value]="requerimientosActivoFijo" [paginator]="true" [rows]="20"
                        [totalRecords]="requerimientosActivoFijo.length" [loading]="loading"
                        responsiveLayout="scroll" [pageLinks]="5" [showCurrentPageReport]="true"
                        currentPageReportTemplate="<{first} - {last} de {totalRecords}>"
                        styleClass="p-datatable-sm p-datatable-striped">

                        <ng-template pTemplate="header">
                            <tr>
                                <th style="width:50px">
                                    <input type="checkbox" [(ngModel)]="allCheckedActivo"
                                        (change)="seleccionarTodos('ACTIVOFIJO')">
                                </th>
                                <th style="width:50px">#</th>
                                <th style="min-width:20px" pSortableColumn="item">Fecha</th>
                                <th style="min-width:100px" pSortableColumn="item">Tipo</th>
                                <th style="min-width:120px" pSortableColumn="descripcionLocal">Almacen</th>
                                <th style="min-width:120px" pSortableColumn="descripcionLocal">Usuario</th>
                                <th style="min-width:100px" pSortableColumn="descripcionLocal">Estado</th>
                                <th style="min-width:30px">Acciones</th>
                            </tr>
                        </ng-template>

                        <ng-template pTemplate="body" let-c let-i="rowIndex">
                            <tr>
                                <td>
                                    <input type="checkbox" [(ngModel)]="c.checked" (change)="simpleSelected('ACTIVOFIJO')">
                                </td>
                                <td>{{ i + 1 }}</td>
                                <td>{{ c.fecha | date : "dd/MM/yyyy HH:mm:ss" }}</td>
                                <td>{{ c.tipo }}</td>
                                <td>{{ c.idalmacen }}</td>
                                <td>{{ c.nrodocumento }}</td>
                                <td>{{ c.estados }}</td>
                                <td>
                                    <!-- Botón Visualizar -->
                                    <button class="btn btn-info btn-sm me-1" (click)="visualizarDetalle(c, 'ACTIVOFIJO')"
                                        title="Ver detalle">
                                        <i class="icon-eye"></i>
                                    </button>
                                    <button class="btn btn-success btn-sm me-1"
                                        (click)="aprobar(c, 'ACTIVOFIJO')">Aprobar</button>
                                    <button class="btn btn-danger btn-sm"
                                        (click)="rechazar(c, 'ACTIVOFIJO')">Rechazar</button>
                                </td>
                            </tr>
                        </ng-template>

                        <ng-template pTemplate="emptymessage">
                            <tr>
                                <td colspan="8" class="text-center">No hay registros</td>
                            </tr>
                        </ng-template>

                    </p-table>

                    <!-- <table class="table table-bordered">
                        <thead class="table-light">
                            <tr>
                                <th><input type="checkbox" [(ngModel)]="allCheckedActivo"
                                        (change)="seleccionarTodos('ACTIVOFIJO')"></th>
                                <th>#</th>
                                <th>Fecha</th>
                                <th>Tipo</th>
                                <th>Almacén Origen</th>
                                <th>Almacén Destino</th>
                                <th>Usuario</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let req of requerimientosActivoFijo; let i = index">
                                <td><input type="checkbox" [(ngModel)]="req.checked"
                                        (change)="simpleSelected('ACTIVOFIJO')"></td>
                                <td>{{ i + 1 }}</td>
                                <td>{{ req.fecha | date : "dd/MM/yyyy HH:mm:ss" }}</td>
                                <td>{{ req.tipo }}</td>
                                <td>{{ req.idalmacen }}</td>
                                <td>{{ req.idalmacen_destino || '-' }}</td>
                                <td>{{ req.nrodocumento }}</td>
                                <td>{{ req.estados}}</td>
                                <td> -->
                                    <!-- Botón Visualizar -->
                                    <!-- <button class="btn btn-info btn-sm me-1"
                                        (click)="visualizarDetalle(req, 'ACTIVOFIJO')" title="Ver detalle">
                                        <i class="icon-eye"></i>
                                    </button>
                                    <button class="btn btn-success btn-sm me-1"
                                        (click)="aprobar(req, 'ACTIVOFIJO')">Aprobar</button>
                                    <button class="btn btn-danger btn-sm"
                                        (click)="rechazar(req, 'ACTIVOFIJO')">Rechazar</button>
                                </td>
                            </tr>
                        </tbody>
                    </table> -->

                    <div *ngIf="!requerimientosActivoFijo.length" class="text-center text-muted mt-2">
                        No hay requerimientos pendientes
                    </div>
                </div>

                <div class="text-center mt-2" *ngIf="currentTab === 'ACTIVOFIJO'">
                    <button class="btn btn-success" (click)="aprobarRequerimientos(currentTab)"
                        [disabled]="!dataSelectedActivo.length">
                        ✅ Aprobar seleccionados
                    </button>
                </div>
            </div>
        </div>

        <!-- TAB ACTIVO FIJO MENOR-->
        <div class="tab-pane fade" id="activofijomenor">
            <h5>Requerimientos activo fijo (por monto)</h5>
            <div class="text-center mt-4">
                <!-- <div class="mb-2">
                    <input type="checkbox" [(ngModel)]="allCheckedActivoMenor"
                        (change)="seleccionarTodos('ACTIVOFIJOMENOR')">
                    Seleccionar todo -->
                <!-- <button class="btn btn-success btn-sm ms-3" (click)="aprobarMasivo('ACTIVOFIJOMENOR')">Aprobar
                        Seleccionados</button> -->
                <!-- </div> -->

                <div class="table-responsive" style="max-height: 60vh; overflow: auto;">
                    <p-table #dt [value]="requerimientosActivoFijoMenor" [paginator]="true" [rows]="20"
                        [totalRecords]="requerimientosActivoFijoMenor.length" [loading]="loading"
                        responsiveLayout="scroll" [pageLinks]="5" [showCurrentPageReport]="true"
                        currentPageReportTemplate="<{first} - {last} de {totalRecords}>"
                        styleClass="p-datatable-sm p-datatable-striped">

                        <ng-template pTemplate="header">
                            <tr>
                                <th style="width:50px">
                                    <input type="checkbox" [(ngModel)]="allCheckedActivoMenor"
                                        (change)="seleccionarTodos('ACTIVOFIJOMENOR')">
                                </th>
                                <th style="width:50px">#</th>
                                <th style="min-width:20px" pSortableColumn="item">Fecha</th>
                                <th style="min-width:100px" pSortableColumn="item">Tipo</th>
                                <th style="min-width:120px" pSortableColumn="descripcionLocal">Almacen</th>
                                <th style="min-width:120px" pSortableColumn="descripcionLocal">Usuario</th>
                                <th style="min-width:100px" pSortableColumn="descripcionLocal">Estado</th>
                                <th style="min-width:30px">Acciones</th>
                            </tr>
                        </ng-template>

                        <ng-template pTemplate="body" let-c let-i="rowIndex">
                            <tr>
                                <td>
                                    <input type="checkbox" [(ngModel)]="c.checked" (change)="simpleSelected('ACTIVOFIJOMENOR')">
                                </td>
                                <td>{{ i + 1 }}</td>
                                <td>{{ c.fecha | date : "dd/MM/yyyy HH:mm:ss" }}</td>
                                <td>{{ c.tipo }}</td>
                                <td>{{ c.idalmacen }}</td>
                                <td>{{ c.nrodocumento }}</td>
                                <td>{{ c.estados }}</td>
                                <td>
                                    <!-- Botón Visualizar -->
                                    <button class="btn btn-info btn-sm me-1" (click)="visualizarDetalle(c, 'ACTIVOFIJOMENOR')"
                                        title="Ver detalle">
                                        <i class="icon-eye"></i>
                                    </button>
                                    <button class="btn btn-success btn-sm me-1"
                                        (click)="aprobar(c, 'ACTIVOFIJOMENOR')">Aprobar</button>
                                    <button class="btn btn-danger btn-sm"
                                        (click)="rechazar(c, 'ACTIVOFIJOMENOR')">Rechazar</button>
                                </td>
                            </tr>
                        </ng-template>

                        <ng-template pTemplate="emptymessage">
                            <tr>
                                <td colspan="8" class="text-center">No hay registros</td>
                            </tr>
                        </ng-template>

                    </p-table>

                    <!-- <table class="table table-bordered">
                        <thead class="table-light">
                            <tr>
                                <th><input type="checkbox" [(ngModel)]="allCheckedActivoMenor"
                                        (change)="seleccionarTodos('ACTIVOFIJOMENOR')"></th>
                                <th>#</th>
                                <th>Fecha</th>
                                <th>Tipo</th>
                                <th>Almacén Origen</th>
                                <th>Almacén Destino</th>
                                <th>Usuario</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let req of requerimientosActivoFijoMenor; let i = index">
                                <td><input type="checkbox" [(ngModel)]="req.checked"
                                        (change)="simpleSelected('ACTIVOFIJOMENOR')"></td>
                                <td>{{ i + 1 }}</td>
                                <td>{{ req.fecha | date : "dd/MM/yyyy HH:mm:ss" }}</td>
                                <td>{{ req.tipo }}</td>
                                <td>{{ req.idalmacen }}</td>
                                <td>{{ req.idalmacen_destino || '-' }}</td>
                                <td>{{ req.nrodocumento }}</td>
                                <td>{{ req.estados}}</td>
                                <td> -->
                                    <!-- Botón Visualizar -->
                                    <!-- <button class="btn btn-info btn-sm me-1"
                                        (click)="visualizarDetalle(req, 'ACTIVOFIJOMENOR')" title="Ver detalle">
                                        <i class="icon-eye"></i>
                                    </button>
                                    <button class="btn btn-success btn-sm me-1"
                                        (click)="aprobar(req, 'ACTIVOFIJOMENOR')">Aprobar</button>
                                    <button class="btn btn-danger btn-sm"
                                        (click)="rechazar(req, 'ACTIVOFIJOMENOR')">Rechazar</button>
                                </td>
                            </tr>
                        </tbody>
                    </table> -->

                    <div *ngIf="!requerimientosActivoFijoMenor.length" class="text-center text-muted mt-2">
                        No hay requerimientos pendientes
                    </div>
                </div>

                <div class="text-center mt-2" *ngIf="currentTab === 'ACTIVOFIJOMENOR'">
                    <button class="btn btn-success" [disabled]="!tieneSeleccionActual()"
                        (click)="aprobarRequerimientos(currentTab)">
                        ✅ Aprobar seleccionados
                    </button>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- MODAL VISUALIZACIÓN DETALLE -->
<div class="modal fade" id="modalVisualizarDetalle" tabindex="-1">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title">Detalle del Requerimiento</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="row mb-3" *ngIf="requerimientoSeleccionado">
                    <div class="col-md-6">
                        <strong>ID Requerimiento:</strong> {{ requerimientoSeleccionado.idrequerimiento }}
                    </div>
                    <div class="col-md-3">
                        <strong>Tipo:</strong> {{ requerimientoSeleccionado.tipo }}
                    </div>
                    <div class="col-md-3" style="display: flex; align-items: center;">
                        <strong>Estado:</strong> <span style="margin-left: 5px;" class="badge bg-warning">{{
                            requerimientoSeleccionado.estados
                            }}</span>
                    </div>
                </div>

                <div class="row mb-3" *ngIf="requerimientoSeleccionado">
                    <div class="col-md-6">
                        <strong>Almacén:</strong> {{ requerimientoSeleccionado.idalmacen }}
                    </div>
                    <div class="col-md-6" *ngIf="requerimientoSeleccionado.idalmacen_destino">
                        <strong>Almacén Destino:</strong> {{ requerimientoSeleccionado.idalmacen_destino }}
                    </div>
                </div>

                <div class="row mb-3" *ngIf="requerimientoSeleccionado">
                    <div class="col-12">
                        <strong>Glosa:</strong> {{ requerimientoSeleccionado.glosa || 'Sin glosa' }}
                    </div>
                </div>

                <h6 class="mt-4 mb-3">Detalle de Linea:</h6>
                <div class="table-responsive">
                    <table class="table table-bordered table-sm">
                        <thead class="table-light">
                            <tr>
                                <th>Código</th>
                                <th>Descripción</th>
                                <th>Cantidad</th>
                                <th>Proyecto</th>
                                <th>CECO</th>
                                <th>Turno</th>
                                <th>Labor</th>
                                <!-- <th>Activo Fijo</th> -->
                                <th *ngIf="currentTab !== 'ITEM'">Activo Fijo</th>
                                <!-- <th *ngIf="requerimientoSeleccionado.tipo !== 'ITEM'">Activo Fijo</th> -->
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let det of detalleRequerimiento">
                                <td>{{ det.codigo }}</td>
                                <td>{{ det.descripcion || det.producto }}</td>
                                <td class="text-center">{{ det.cantidad }}</td>
                                <td>{{ det.proyecto }}</td>
                                <td>{{ det.ceco }}</td>
                                <td>{{ det.turno }}</td>
                                <td>{{ det.labor }}</td>
                                <!-- <td *ngIf="requerimientoSeleccionado?.tipo !== 'ITEM'">
                                    {{ det.activoFijo || '-' }}
                                </td> -->
                                <td>{{ det.activoFijo || '-' }}</td>
                            </tr>
                            <tr *ngIf="detalleRequerimiento.length === 0">
                                <td class="text-center py-3"
                                    [attr.colspan]="requerimientoSeleccionado?.tipo !== 'ITEM' ? 8 : 7">
                                    <em>No hay detalles agregados</em>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>