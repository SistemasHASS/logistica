<div class="admin-page">

  <!-- HEADER -->
  <div class="page-header">
    <h2>Lista de Usuarios</h2>
    <button class="btn-primary" (click)="openCreate()">
      <i class="icon icon-plus"></i> Nuevo Usuario
    </button>
  </div>

  <!-- TABLA -->
  <div class="table-wrapper">
    <table class="table">
      <thead>
        <tr>
          <th>#</th>
          <th>Nombre</th>
          <th>Email</th>
          <th>Perfil</th>
          <th>Área</th>
          <th>Estado</th>
          <th style="width: 120px">Acciones</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let usuario of usuarios; index as i">
          <td>{{ i + 1 }}</td>
          <td>{{ usuario.nombre }}</td>
          <td>{{ usuario.email }}</td>
          <td>{{ usuario.perfil }}</td>
          <td>{{ usuario.area }}</td>
          <td>
            <span [class.activo]="usuario.estado === 'ACTIVO'" [class.inactivo]="usuario.estado === 'INACTIVO'">
              {{ usuario.estado }}
            </span>
          </td>
          <td class="actions">
            <button class="btn btn-sm btn-warning me-2" (click)="openEdit(usuario)">
              <i class="icon-pencil"></i>
            </button>
          </td>
        </tr>

        <tr *ngIf="!usuarios.length">
          <td colspan="7" class="empty">
            No hay usuarios registrados
          </td>
        </tr>
      </tbody>
    </table>
  </div>

</div>

<!-- MODAL -->
<div class="modal-backdrop" *ngIf="showModal">
  <div class="modal" [class.show]="showModal">
    <div class="modal-header">
      <h3>{{ isEdit ? 'Editar Usuario' : 'Nuevo Usuario' }}</h3>
      <button class="close" (click)="closeModal()">×</button>
    </div>

    <div class="modal-body">
      <div class="form-group">
        <label>Nombre Completo</label>
        <input type="text" [(ngModel)]="form.nombre" />
      </div>

      <div class="form-group">
        <label>Email</label>
        <input type="email" [(ngModel)]="form.email" />
      </div>

      <div class="form-group">
        <label>Perfil</label>
        <input type="text" [(ngModel)]="form.perfil" />
      </div>

      <div class="form-group">
        <label>Área</label>
        <input type="text" [(ngModel)]="form.area" />
      </div>

      <div class="form-group">
        <label>Estado</label>
        <select [(ngModel)]="form.estado">
          <option value="ACTIVO">Activo</option>
          <option value="INACTIVO">Inactivo</option>
        </select>
      </div>
    </div>

    <div class="modal-footer">
      <button class="btn-secondary" (click)="closeModal()">Cancelar</button>
      <button class="btn-primary" (click)="save()">Guardar</button>
    </div>
  </div>
</div>
